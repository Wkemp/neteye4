{
    "ImportSource": {
        "MySQL: Network Discovery": {
            "description": "Import network devices from NeDi\r\nNote: Please replace the ressource with your nedi mysql db ressource definition.",
            "key_column": "device",
            "modifiers": [
                {
                    "description": "Hostname to lowercase",
                    "priority": "1",
                    "property_name": "device",
                    "provider_class": "Icinga\\Module\\Director\\PropertyModifier\\PropertyModifierLowercase",
                    "settings": {},
                    "target_property": null
                },
                {
                    "description": "Match valid IP",
                    "priority": "2",
                    "property_name": "inet_ntoa(devip)",
                    "provider_class": "Icinga\\Module\\Director\\PropertyModifier\\PropertyModifierRejectOrSelect",
                    "settings": {
                        "filter_method": "regex",
                        "filter_string": "\/\\d+\\.\\d+\\.\\d+\\.\\d+\/",
                        "policy": "keep"
                    },
                    "target_property": null
                },
                {
                    "description": "Exclude Test Devices",
                    "priority": "3",
                    "property_name": "device",
                    "provider_class": "Icinga\\Module\\Director\\PropertyModifier\\PropertyModifierRejectOrSelect",
                    "settings": {
                        "filter_method": "regex",
                        "filter_string": "\/^test$\/i",
                        "policy": "reject"
                    },
                    "target_property": null
                }
            ],
            "originalId": "1",
            "provider_class": "Icinga\\Module\\Director\\Import\\ImportSourceSql",
            "settings": {
                "column_cache": "device, inet_ntoa(devip), description",
                "query": "SELECT device, INET_NTOA(devip), description FROM devices",
                "resource": "Sample remote MYSQL ressource"
            },
            "source_name": "MySQL: Network Discovery"
        }
    },
    "SyncRule": {
        "MySQL: Network Discovery": {
            "description": "Sync network devices from NeDi",
            "filter_expression": null,
            "object_type": "host",
            "originalId": "1",
            "properties": [
                {
                    "destination_field": "address",
                    "filter_expression": null,
                    "merge_policy": "override",
                    "priority": "1",
                    "source": "MySQL: Network Discovery",
                    "source_expression": "${inet_ntoa(devip)}"
                },
                {
                    "destination_field": "notes",
                    "filter_expression": null,
                    "merge_policy": "override",
                    "priority": "2",
                    "source": "MySQL: Network Discovery",
                    "source_expression": "${description}"
                }
            ],
            "purge_existing": "n",
            "rule_name": "MySQL: Network Discovery",
            "update_policy": "merge"
        }
    }
}
